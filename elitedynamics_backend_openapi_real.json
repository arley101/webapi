{
  "openapi": "3.1.1",
  "info": {
    "title": "EliteDynamicsAPI",
    "description": "API empresarial avanzada con 476+ integraciones - Optimizada para Custom GPT",
    "version": "1.1"
  },
  "servers": [
    {
      "url": "https://elitedynamicsapi.azurewebsites.net",
      "description": "Servidor Principal de Producción"
    }
  ],
  "paths": {
    "/api/v1/dynamics": {
      "post": {
        "summary": "Procesa una acción dinámica basada en la solicitud",
        "description": "Recibe un nombre de acción y sus parámetros, y ejecuta la lógica de negocio correspondiente. Este es el punto de entrada principal para todas las operaciones del backend.",
        "operationId": "processDynamicAction",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActionRequest"
              },
              "examples": {
                "runway_list_models": {
                  "summary": "Listar modelos de Runway ML",
                  "value": {
                    "action": "runway_list_models",
                    "params": {}
                  }
                },
                "runway_generate_video": {
                  "summary": "Generar video con Runway ML",
                  "value": {
                    "action": "runway_generate_video",
                    "params": {
                      "prompt": "A beautiful sunset over calm ocean waters",
                      "model": "gen3a_turbo",
                      "duration": 5,
                      "ratio": "1280:720"
                    }
                  }
                },
                "runway_get_video_status": {
                  "summary": "Verificar estado de video",
                  "value": {
                    "action": "runway_get_video_status",
                    "params": {
                      "task_id": "task_abc123def456"
                    }
                  }
                },
                "graph_send_email": {
                  "summary": "Enviar email con Microsoft Graph",
                  "value": {
                    "action": "graph_send_email",
                    "params": {
                      "to": ["usuario@empresa.com"],
                      "subject": "Reporte mensual",
                      "body": "Adjunto encontrarás el reporte del mes.",
                      "importance": "high"
                    }
                  }
                },
                "openai_generate_text": {
                  "summary": "Generar texto con OpenAI",
                  "value": {
                    "action": "openai_generate_text",
                    "params": {
                      "prompt": "Escribe un artículo sobre las tendencias de IA en 2025",
                      "model": "gpt-4",
                      "max_tokens": 1500,
                      "temperature": 0.7
                    }
                  }
                },
                "notion_create_page": {
                  "summary": "Crear página en Notion",
                  "value": {
                    "action": "notion_create_page",
                    "params": {
                      "parent_id": "database_id_here",
                      "title": "Nueva página de proyecto",
                      "content": "Contenido inicial de la página"
                    }
                  }
                },
                "google_ads_get_campaigns": {
                  "summary": "Obtener campañas de Google Ads",
                  "value": {
                    "action": "google_ads_get_campaigns",
                    "params": {
                      "customer_id": "1234567890"
                    }
                  }
                },
                "meta_ads_get_insights": {
                  "summary": "Obtener insights de Meta Ads",
                  "value": {
                    "action": "meta_ads_get_insights",
                    "params": {
                      "account_id": "act_123456789",
                      "date_range": "last_7_days"
                    }
                  }
                },
                "wp_create_post": {
                  "summary": "Crear post en WordPress",
                  "value": {
                    "action": "wp_create_post",
                    "params": {
                      "title": "Nuevo artículo",
                      "content": "Contenido del artículo",
                      "status": "publish"
                    }
                  }
                },
                "hubspot_create_contact": {
                  "summary": "Crear contacto en HubSpot",
                  "value": {
                    "action": "hubspot_create_contact",
                    "params": {
                      "email": "nuevo@contacto.com",
                      "firstname": "Juan",
                      "lastname": "Pérez"
                    }
                  }
                },
                "linkedin_ads_get_campaigns": {
                  "summary": "Obtener campañas de LinkedIn Ads",
                  "value": {
                    "action": "linkedin_ads_get_campaigns",
                    "params": {
                      "account_id": "123456789"
                    }
                  }
                },
                "tiktok_ads_get_campaigns": {
                  "summary": "Obtener campañas de TikTok Ads",
                  "value": {
                    "action": "tiktok_ads_get_campaigns",
                    "params": {
                      "advertiser_id": "987654321"
                    }
                  }
                },
                "youtube_channel_get_videos": {
                  "summary": "Obtener videos del canal de YouTube",
                  "value": {
                    "action": "youtube_channel_get_videos",
                    "params": {
                      "channel_id": "UCxxxxxxxxxxxxx",
                      "max_results": 25
                    }
                  }
                },
                "powerbi_get_reports": {
                  "summary": "Obtener reportes de Power BI",
                  "value": {
                    "action": "powerbi_get_reports",
                    "params": {
                      "workspace_id": "workspace_guid_here"
                    }
                  }
                },
                "teams_send_message": {
                  "summary": "Enviar mensaje en Microsoft Teams",
                  "value": {
                    "action": "teams_send_message",
                    "params": {
                      "team_id": "team_guid_here",
                      "channel_id": "channel_guid_here",
                      "message": "Hola equipo, reunión a las 3pm"
                    }
                  }
                },
                "sharepoint_create_file": {
                  "summary": "Crear archivo en SharePoint",
                  "value": {
                    "action": "sharepoint_create_file",
                    "params": {
                      "site_id": "site_guid_here",
                      "filename": "documento.docx",
                      "content": "Contenido del documento"
                    }
                  }
                },
                "onedrive_upload_file": {
                  "summary": "Subir archivo a OneDrive",
                  "value": {
                    "action": "onedrive_upload_file",
                    "params": {
                      "filename": "archivo.pdf",
                      "folder_path": "/Documents",
                      "file_content": "base64_encoded_content"
                    }
                  }
                },
                "todo_create_task": {
                  "summary": "Crear tarea en Microsoft To Do",
                  "value": {
                    "action": "todo_create_task",
                    "params": {
                      "title": "Revisar propuesta comercial",
                      "due_date": "2025-08-20",
                      "importance": "high"
                    }
                  }
                },
                "planner_create_plan": {
                  "summary": "Crear plan en Microsoft Planner",
                  "value": {
                    "action": "planner_create_plan",
                    "params": {
                      "title": "Proyecto Q4 2025",
                      "owner": "group_id_here"
                    }
                  }
                },
                "calendar_create_event": {
                  "summary": "Crear evento en calendario",
                  "value": {
                    "action": "calendario_create_event",
                    "params": {
                      "subject": "Reunión de equipo",
                      "start": "2025-08-20T14:00:00Z",
                      "end": "2025-08-20T15:00:00Z",
                      "attendees": ["usuario@empresa.com"]
                    }
                  }
                },
                "email_send_message": {
                  "summary": "Enviar email",
                  "value": {
                    "action": "email_send_message",
                    "params": {
                      "to": ["destinatario@empresa.com"],
                      "subject": "Seguimiento de proyecto",
                      "body": "Adjunto el reporte solicitado"
                    }
                  }
                },
                "github_create_issue": {
                  "summary": "Crear issue en GitHub",
                  "value": {
                    "action": "github_create_issue",
                    "params": {
                      "repository": "usuario/repositorio",
                      "title": "Bug en funcionalidad X",
                      "body": "Descripción detallada del bug"
                    }
                  }
                },
                "x_ads_get_campaigns": {
                  "summary": "Obtener campañas de X (Twitter) Ads",
                  "value": {
                    "action": "x_ads_get_campaigns",
                    "params": {
                      "account_id": "18ce54d4x5t"
                    }
                  }
                },
                "webresearch_search": {
                  "summary": "Buscar información en web",
                  "value": {
                    "action": "webresearch_search",
                    "params": {
                      "query": "tendencias inteligencia artificial 2025",
                      "max_results": 10
                    }
                  }
                },
                "gemini_analyze_context": {
                  "summary": "Analizar contexto con Gemini AI",
                  "value": {
                    "action": "analyze_conversation_context",
                    "params": {
                      "conversation_text": "Historia de la conversación para análisis",
                      "analysis_type": "sentiment"
                    }
                  }
                },
                "workflow_execute": {
                  "summary": "Ejecutar workflow predefinido",
                  "value": {
                    "action": "execute_workflow",
                    "params": {
                      "workflow_name": "email_campaign_sequence",
                      "parameters": {
                        "target_audience": "premium_customers"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Acción completada exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["success"]
                    },
                    "data": {
                      "type": "object"
                    },
                    "task_id": {
                      "type": "string",
                      "description": "ID de tarea para operaciones asíncronas"
                    },
                    "models": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "video_url": {
                      "type": "string",
                      "format": "uri"
                    },
                    "task_status": {
                      "type": "string",
                      "enum": ["pending", "running", "succeeded", "failed"]
                    },
                    "progress": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100
                    }
                  }
                },
                "examples": {
                  "runway_models_response": {
                    "summary": "Respuesta de modelos de Runway",
                    "value": {
                      "status": "success",
                      "models": [
                        {
                          "id": "gen3a_turbo",
                          "name": "Gen-3 Alpha Turbo",
                          "type": "text-to-video"
                        },
                        {
                          "id": "gen3",
                          "name": "Gen-3 Alpha",
                          "type": "image-to-video"
                        }
                      ]
                    }
                  },
                  "runway_generation_response": {
                    "summary": "Respuesta de generación iniciada",
                    "value": {
                      "status": "success",
                      "task_id": "task_abc123def456",
                      "model": "gen3a_turbo",
                      "estimated_completion_time": "3-5 minutos"
                    }
                  },
                  "runway_status_response": {
                    "summary": "Respuesta de estado de video",
                    "value": {
                      "status": "success",
                      "task_id": "task_abc123def456",
                      "task_status": "succeeded",
                      "progress": 100,
                      "video_url": "https://runway-generated-videos.s3.amazonaws.com/video_abc123.mp4"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error en la solicitud",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/docs": {
      "get": {
        "summary": "Documentación Swagger UI",
        "description": "Interfaz de documentación interactiva",
        "operationId": "getApiDocumentation",
        "responses": {
          "200": {
            "description": "Página de documentación"
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Página principal",
        "description": "Página de inicio de la API",
        "operationId": "getHomePage",
        "responses": {
          "200": {
            "description": "Página principal"
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Estado de salud del sistema",
        "description": "Verifica el estado del sistema y todas las integraciones",
        "operationId": "getSystemHealth",
        "responses": {
          "200": {
            "description": "Estado del sistema",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["healthy", "degraded", "unhealthy"]
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "version": {
                      "type": "string"
                    },
                    "total_actions": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActionRequest": {
        "type": "object",
        "required": ["action"],
        "properties": {
          "action": {
            "type": "string",
            "description": "Nombre de la acción a ejecutar",
            "examples": [
              "runway_list_models",
              "runway_generate_video",
              "runway_get_video_status",
              "runway_generate_video_advanced",
              "runway_image_to_video_pro",
              "runway_text_to_video_studio",
              "runway_estimate_cost",
              "runway_check_configuration",
              "runway_get_result_url",
              "runway_wait_and_save",
              "runway_cancel_task",
              "graph_send_email",
              "graph_list_emails",
              "graph_get_email",
              "graph_create_calendar_event",
              "graph_list_calendar_events",
              "openai_generate_text",
              "openai_generate_image",
              "openai_chat_completion",
              "notion_create_page",
              "notion_get_page",
              "notion_update_page",
              "notion_list_databases",
              "notion_query_database",
              "google_ads_get_campaigns",
              "google_ads_create_campaign",
              "google_ads_get_keywords",
              "google_ads_get_performance_report",
              "meta_ads_get_insights",
              "meta_ads_get_campaigns",
              "meta_ads_create_campaign",
              "meta_ads_get_ad_sets",
              "wp_create_post",
              "wp_get_posts",
              "wp_update_post",
              "wp_delete_post",
              "wp_get_categories",
              "hubspot_create_contact",
              "hubspot_get_contact",
              "hubspot_update_contact",
              "hubspot_list_companies",
              "hubspot_create_deal",
              "linkedin_ads_get_campaigns",
              "linkedin_ads_create_campaign",
              "linkedin_ads_get_insights",
              "tiktok_ads_get_campaigns",
              "tiktok_ads_create_campaign",
              "tiktok_ads_get_insights",
              "youtube_channel_get_videos",
              "youtube_channel_upload_video",
              "youtube_channel_get_analytics",
              "powerbi_get_reports",
              "powerbi_get_datasets",
              "powerbi_create_report",
              "teams_send_message",
              "teams_create_meeting",
              "teams_get_channels",
              "sharepoint_create_file",
              "sharepoint_get_files",
              "sharepoint_upload_file",
              "sharepoint_create_list",
              "onedrive_upload_file",
              "onedrive_get_files",
              "onedrive_create_folder",
              "todo_create_task",
              "todo_get_tasks",
              "todo_update_task",
              "todo_list_task_lists",
              "planner_create_plan",
              "planner_get_plans",
              "planner_create_task",
              "planner_get_tasks",
              "forms_list_forms",
              "forms_get_form",
              "forms_get_form_responses",
              "bookings_get_appointments",
              "bookings_create_appointment",
              "bookings_list_businesses",
              "bookings_list_services",
              "calendario_create_event",
              "calendario_list_events",
              "calendario_get_event",
              "calendario_update_event",
              "calendario_delete_event",
              "azuremgmt_list_resources",
              "azuremgmt_get_resource",
              "azuremgmt_create_deployment",
              "github_create_issue",
              "github_get_repositories",
              "github_create_pull_request",
              "x_ads_get_campaigns",
              "x_ads_create_campaign",
              "x_ads_get_insights",
              "webresearch_search",
              "webresearch_get_page_content",
              "webresearch_analyze_url",
              "resolver_resolve_resource",
              "intelligent_assistant_process",
              "intelligent_assistant_start_session",
              "workflow_execute",
              "workflow_create",
              "workflow_list",
              "email_list_messages",
              "email_send_message",
              "email_get_message",
              "email_reply_message",
              "email_forward_message",
              "email_delete_message",
              "stream_get_videos",
              "stream_upload_video",
              "vivainsights_get_reports",
              "userprofile_get_profile",
              "userprofile_update_profile",
              "users_list_users",
              "users_get_user",
              "users_create_user",
              "gemini_analyze_context",
              "gemini_generate_suggestions",
              "office_create_document",
              "office_get_documents",
              "power_automate_list_flows",
              "power_automate_trigger_flow"
            ]
          },
          "params": {
            "type": "object",
            "description": "Parámetros específicos para la acción",
            "additionalProperties": true
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": ["status", "message"],
        "properties": {
          "status": {
            "type": "string",
            "enum": ["error"]
          },
          "message": {
            "type": "string",
            "description": "Descripción del error"
          },
          "http_status": {
            "type": "integer",
            "description": "Código de estado HTTP"
          },
          "details": {
            "type": "object",
            "description": "Detalles adicionales del error"
          }
        }
      }
    }
  }
}
